<div class="membrete">
    <h2 style="text-align: center;color: white;">Aplicación Web Texur</h2>
    <i (click)="carritoOn()" class="fa fa-shopping-cart carritoIcon" aria-hidden="true"></i>
    <i class="carritoIconNum">{{productosRes.length}}</i>
    <i (click)="logout()" class="fa fa-sign-out" aria-hidden="true"></i>
</div>
<div class="cuerpo">
    <div class="panelIzq menu" style="background-color: lightgrey;">
        <h2>Carlos Perez</h2>
        <div class="imagen">
            <img src="../../../assets/user.png">
        </div>
        <div>
            <ul>
                <li (click)="cambio('perfil'); seleccionar('perfil')" [class.active]="selected === 'perfil'">Perfil
                </li>
                <li (click)="cambio('compras'); seleccionar('compras')" [class.active]="selected === 'compras'">
                    Compras</li>
                <li (click)="cambio('postventa'); seleccionar('postventa')" [class.active]="selected === 'postventa'">
                    Post Venta</li>
                <li (click)="cambio('elearning'); seleccionar('elearning')" [class.active]="selected === 'elearning'">
                    E-learning</li>
                <li (click)="cambio('mensajero'); seleccionar('mensajero')" [class.active]="selected === 'mensajero'">
                    Mensajero</li>
            </ul>
        </div>
    </div>
    <div class="panelDer" style="background-color:grey;">
        <div *ngIf="perfil" class="perfil">
            <h2>Perfil del cliente</h2>
            <div class="login">
                <div class="imagen">
                    <img src="../../../assets/user.png">
                </div>
                <div class="formulario">
                    <form class="form">
                        <label>Usuario</label>
                        <input type="text" placeholder="Ingrese su usuario"><br>
                        <label>Password</label>
                        <input type="password" placeholder="Ingrese su clave"><br>
                        <label>CUIT</label>
                        <input type="text" placeholder="Ingrese su CUIT"><br>
                        <label>Razon Social</label>
                        <input type="text" placeholder="Ingrese su Razon Social"><br>
                        <label>CUIT Cliente</label>
                        <input type="text" placeholder="CUIT"><br>
                        <button (click)="actualizar()">ACTUALIZAR</button>
                    </form>
                </div>
            </div>
        </div>
        <div *ngIf="compras" class="compras container">
            <app-carrusel></app-carrusel>
            <div class="cuerpoCompras">
                <div class="productos">
                    <img src="../../../assets/ISC.png" alt="">
                    <h2>
                        Productos disponibles
                    </h2>
                    <div class="contenedorCard">
                        <div *ngFor="let producto of productos; let i = index">
                            <div class="card">
                                <img src="{{producto.imagenP}}">
                                <h5>{{producto.nombre}}</h5>
                                <h6>Precio: U$S {{producto.precio}}</h6>
                                <button (click)="mostrarDetalle(i)">Ver detalles</button>
                                <button (click)="cargarProd(i)">Agregar a pedido</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="mostrarCarro" class="resumen">
                    <div *ngIf="hayProductos">
                        <h4>Pedido actual</h4>
                        <div *ngFor="let producto of productosRes; let i = index">
                            <div class="cardRes">
                                <img src="{{producto.imagenP}}">
                                <h5>{{producto.nombre}}</h5>
                                <h6>Precio: {{producto.precio}}</h6>
                                <div class="botonera">
                                    <a (click)="restar(i)"><strong>-</strong></a>
                                    <p>Cantidad: {{producto.unidades}}</p>
                                    <a (click)="sumar(i)"><strong>+</strong></a>
                                </div>
                                <button (click)="borrarProd(i)">Eliminar</button>
                            </div>
                        </div>
                        <h5>Monto Total: U$S {{montoCompra}}</h5>
                        <button>Realizar pedido</button>
                    </div>
                    <div *ngIf="!hayProductos">
                        <h3 class="container">No existen productos en el carrito</h3>
                    </div>

                    <button (click)="carritoOff()">Cerrar</button>
                </div>
            </div>
        </div>
        <div *ngIf="postventa" class="postventa container">
            <div class="cuerpoPV">
                <app-carrusel></app-carrusel>
                <div class="misProductos">
                    <h2>Mis productos</h2>
                    <div class="cardsProductos">
                        <div class="cardProd">
                            <h4>Icegard Oro</h4>
                            <img src="../../../assets/Icegard Oro.png">
                            <div class="estadoGarantia">
                                <h5>Garantía</h5>
                                <h5 class="estadoGar">Activa</h5>    
                            </div>
                            <div class="estadoGarantia">
                                <h6>
                                    Cobertura restante: 
                                </h6>
                                <h6>
                                    25 días
                                </h6>
                            </div>
                            <p>Descargar tutorial<i class="fa fa-download" aria-hidden="true"></i></p>
                            <button (click)="mostrarGestion('Icegard Oro')">Gestionar producto</button>
                        </div>
                        <div class="cardProd">
                            <h4>Icegard Rosso</h4>
                            <img src="../../../assets/Icegard Rosso.png">
                            <div class="estadoGarantia">
                                <h5>Garantía</h5>
                                <h5 class="estadoGar">Activa</h5>    
                            </div>
                            <div class="estadoGarantia">
                                <h6>
                                    Cobertura restante: 
                                </h6>
                                <h6>
                                    25 días
                                </h6>
                            </div>
                            <p>Descargar tutorial<i class="fa fa-download" aria-hidden="true"></i></p>
                            <button (click)="mostrarGestion('Icegard Rosso')">Gestionar producto</button>
                        </div>
                        <div class="cardProd">
                            <h4>Icegard Verde</h4>
                            <img src="../../../assets/Icegard Verde.png">
                            <div class="estadoGarantia">
                                <h5>Garantía</h5>
                                <h5 class="estadoGarV">Vencida</h5>    
                            </div>
                            <div>
                                <h6 class="estadoGarantia">
                                    Sin cobertura
                                </h6>
                            </div>
                            <p>Descargar tutorial<i class="fa fa-download" aria-hidden="true"></i></p>
                            <button (click)="mostrarGestion('Icegard Verde')">Gestionar producto</button>
                        </div>
                    </div>
                </div>
                <div *ngIf="gestionActiva" class="confirmation-dialog">
                    <div class="infoProductos">
                        <div class="detallesProd">
                            <div class="opcionesProd">
                                <h4>Gestión producto: {{productoGestion}}</h4>
                                <div class="cabecerasProd">
                                    <ul class="opcionesPV">
                                        <li (click)="cambioOpcionPV('garantiaPV'); seleccionarPV('garantiaPV')"
                                            [class.active]="selectedPV === 'garantiaPV'">Garantía</li>
                                        <li (click)="cambioOpcionPV('serviciosPV'); seleccionarPV('serviciosPV')"
                                            [class.active]="selectedPV === 'serviciosPV'">Servicios</li>
                                        <li (click)="cambioOpcionPV('contratoPV'); seleccionarPV('contratoPV')"
                                            [class.active]="selectedPV === 'contratoPV'">Contrato</li>
                                    </ul>
    
                                </div>
                            </div>
                            <div class="detallesCompletos">
                                <div *ngIf="garantiaPV" class="garantiaProd">
                                    <h4>
                                        <p>Cobertura</p>
                                    </h4>
                                    <h6>
                                        <p>La garantía de este producto cubre defectos de fabricación y materiales por
                                            un período determinado. Incluye reparaciones o reemplazos sin costo
                                            adicional para el cliente, siempre que se cumplan las condiciones del uso
                                            adecuado y se presente el comprobante de compra. No cubre daños por mal uso
                                            o desgaste normal.</p>
                                    </h6>
                                </div>
                                <div *ngIf="serviciosPV">
                                    <h4>
                                        <p>Gestión de servicios</p>
                                    </h4>
                                    <div class="servicios">
                                        <div class="solicitud">
                                            <h5>
                                                <p>Solicitud de servicio</p>
                                            </h5>
                                            <div class="container mt-3">
    
                                                <div class="form-group mr-2">
                                                    <label for="tipoSolicitud" class="mr-2">Tipo</label>
                                                    <select id="tipoSolicitud" class="form-control">
                                                        <option value="Mantenimiento">Mantenimiento</option>
                                                        <option value="Reparacion">Reparación</option>
                                                    </select>
                                                </div>
                                                <div class="form-group mr-2">
                                                    <label for="descripcion" class="mr-2">Descripción</label>
                                                    <input type="text" id="descripcion" class="form-control"
                                                        placeholder="Descripción">
                                                </div>
                                                <button type="button" (click)="agendado()"
                                                    class="btn btn-primary">Solicitar</button>
    
                                            </div>
                                        </div>
                                        <div class="seguimiento">
                                            <h5>
                                                <p>Seguimiento de servicio</p>
                                            </h5>
                                            <div class="container mt-3">
                                                <div class="form-group mr-2">
                                                    <label for="descripcion" class="mr-2">Numero de seguimiento</label>
                                                    <input type="text" id="descripcion" class="form-control"
                                                        placeholder="Descripción" value="1234">
                                                </div>
                                                <button type="button" (click)="consultado()"
                                                    class="btn btn-primary">Consulta</button>
                                                <div *ngIf="hizoConsulta">
                                                    <br>
                                                    <p><strong>Estado: </strong>Pendiente</p>
                                                    <p><strong>Fecha: </strong>01/09/2024</p>
                                                    <p><strong>Costo: </strong>Sin costo - Corre por garantía</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
    
                                </div>
                                <div *ngIf="contratoPV">
                                    <h4>
                                        <p>Contrato</p>
                                    </h4>
                                    <h6>
                                        <p>El contrato de servicio incluye los términos y condiciones del servicio
                                            prestado, plazos de entrega, responsabilidades de ambas partes, tarifas y
                                            métodos de pago, así como las garantías ofrecidas. También detalla el
                                            proceso para resolver disputas y las condiciones para la terminación del
                                            contrato. Todo en conformidad con la legislación aplicable.</p>
                                    </h6>
                                </div>
                            </div>
                        </div>
                        <button (click)="cerrarGestion()">Cerrar</button>
                    </div>
                </div>

            </div>
        </div>
        <div *ngIf="elearning">

            
            <div class="encabezadoElearning">
                <h4>Encuentra aquí tu curso</h4>
                <input type="text" ><i class="fa fa-search"></i>
            </div>
            <div class="principalE">
                <div class="filtrosE">
                    <h4>Filtros</h4>
                    <div class="valoraciones">
                        <h5>Valoraciones</h5>
                        <div>
                            <div class="form-check">
                                <input (click)="filtroE(5)" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <img src="../../../assets/5de5.png " alt="">
                            </div>
                        </div>
                        <div>
                            <div class="form-check">
                                <input (click)="filtroE(4)" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <img src="../../../assets/4de5.png" alt="">
                            </div>
                        </div>
                        <div>
                            <div class="form-check">
                                <input (click)="filtroE(3)" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <img src="../../../assets/3de5.png " alt="">
                            </div>
                        </div>
                        <div>
                            <div class="form-check">
                                <input (click)="filtroE(2)" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <img src="../../../assets/2de5.png " alt="">
                            </div>
                        </div>
                        <div>
                            <div class="form-check">
                                <input (click)="filtroE(1)" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <img src="../../../assets/1de5.png " alt="">
                            </div>
                        </div>
                        
                    </div>
                    <div class="precios">
                        <h5>Precio</h5>
                        <div>
                            <div class="form-check-b">
                                <input (click)="filtroP(50)" class="form-check-input" type="radio" name="flexRadioDefaultPrecio" id="flexRadioDefault2">
                                <h6>U$S 1 - U$S 50</h6>
                            </div>
                        </div>
                        <div>
                            <div class="form-check-b">
                                <input (click)="filtroP(150)" class="form-check-input" type="radio" name="flexRadioDefaultPrecio" id="flexRadioDefault2">
                                <h6>U$S 51 - U$S 100</h6>
                            </div>
                        </div>
                        <div>
                            <div class="form-check-b">
                                <input (click)="filtroP(300)" class="form-check-input" type="radio" name="flexRadioDefaultPrecio" id="flexRadioDefault2">
                                <h6>U$S 101 - U$S 300</h6>
                            </div>
                        </div>
                        <div>
                            <div class="form-check-b">
                                <input (click)="filtroP(301)" class="form-check-input" type="radio" name="flexRadioDefaultPrecio" id="flexRadioDefault2">
                                <h6>U$S 301 - U$S 999</h6>
                            </div>
                        </div>
                    </div>
                    <div class="limpiezaFiltros">
                        <button (click)="limpiarFiltros()">Limpiar filtros</button>
                    </div>
                </div>
                <div class="cursosE">
                    <h4>Cursos</h4>
                    <div *ngFor="let curso of cursos; let i = index">
                        <div class="cursoInd margenArriba">
                            <div class="cursoIndIzq">
                                <img src="{{curso.imagen}}">
                            </div>
                            <div class="cursoIndCentro">
                                <h4><strong>{{curso.nombre}}</strong></h4>
                                <h6>{{curso.descripcion}}</h6>
                                <img src="{{curso.imagenEstrellas}}" alt="">
                            </div>
                            <div class="cursoIndDer">
                                <h6>Precio: U$S {{curso.precio}}</h6>
                                <button>Comprar</button>
                                <h6>Incluído en Membresía Nivel 3</h6>
                                <button>Solicitar</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>


            
             <!-- <div class="docLibre container">
                <div class="cursosHH">
                    <h2>Documentación libre</h2>
                    <h6>(Esta documentación estará disponible para todos los clientes)</h6>
                </div>
                <div class="input-container table">
                    <input class="table" type="text" placeholder="Ingrese el curso a buscar">
                    <i class="fa fa-search" aria-hidden="true"></i>
                </div>
                <div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th style="background-color:  #054f71;color: white;" scope="col">Nombre</th>
                                <th style="background-color:  #054f71;color: white;" scope="col">Descripción</th>
                                <th style="background-color:  #054f71;color: white;" scope="col">Tiempo estimado</th>
                                <th style="background-color:  #054f71;color: white;" scope="col">Tipo de material</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let material of materialLibre">
                                <td>{{material.nombre}}</td>
                                <td>{{material.descripcion}}</td>
                                <td>{{material.duracion}}</td>
                                <td><img src="{{material.tipo}}" alt=""></td>
                            </tr>

                        </tbody>
                    </table>
                </div>

            </div> -->

            <!-- <div class="estadisticasPersonales">
                <h2>
                    Estadisticas
                </h2>
                <div class="resumenTotal">
                    <div class="resumen uno">
                        <h4>Tasa de progreso</h4>
                        <h5>Cursos realizados: 4 de 6</h5>
                        <h5>Estrellas acumuladas: 12</h5>
                    </div>
                    <div class="resumen">
                        <img src="../../../assets/grafico.png">
                    </div>
                    <div class="resumen">
                        <img src="../../../assets/metrica.png">
                    </div>
                </div>
            </div>  -->










        </div>
        <div *ngIf="mensajero" class="mensajero container">
            <app-carrusel></app-carrusel>
            <br><br>
            <div class="tablaMensajes">
                <table class="table">
                    <thead>
                        <tr>
                            <th style="background-color:   #054f71;color: white;" scope="col">De</th>
                            <th style="background-color:   #054f71;color: white;" scope="col">Asunto</th>
                            <th style="background-color:  #054f71;color: white;" scope="col">Cuerpo</th>
                            <th style="background-color:  #054f71;color: white;" scope="col">Fecha</th>
                            <th style="background-color:   #054f71;color: white;" scope="col">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let mensaje of mensajes">
                            <td>{{mensaje.de}}</td>
                            <td>{{mensaje.asunto}}</td>
                            <td>{{mensaje.cuerpo}}</td>
                            <td>{{mensaje.fecha}}</td>
                            <td style="cursor: pointer;"><i class="fa fa-info-circle" aria-hidden="true"></i>
                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <div>
                <p>
                    En esta sección el cliente recibirá las notifiaciones enviadas por el Distribuidor.
                </p>
                <p>
                    Aquí encontrará avisos de caducidad de membresías, avisos de service, ofertas de productos, etc
                </p>
            </div>

        </div>
    </div>
</div>
<div *ngIf="modalDetalle" class="confirmation-dialog">
    <div class="dialog-content">
        <div class="detalleModalP">
            <div class="fotoYdesc">
                <h2>{{this.productos[this.indexProducto].nombre}}</h2>
                <img src="{{this.productos[this.indexProducto].imagenP}}" alt="">
            </div>
            <div class="caracYfoto">
                <h3>Características</h3>
                <img src="{{this.productos[this.indexProducto].caracteristicas}}" alt="">
            </div>
        </div>

        <div class="description">
            <h3>Descripción</h3>
            <p>{{this.productos[this.indexProducto].descripcion}}</p>
            <p>Descargar tutorial<i class="fa fa-download" aria-hidden="true"></i></p>
        </div>
        <button (click)="cerrarDetalle()">Cerrar</button>
    </div>
</div>



<div class="footer">
    <h4>Desarrollado por <span>EsteroTech</span></h4>
</div>
<!-- Modal -->
<!-- <div *ngIf="modalCarrusel" class="confirmation-dialog-carrusel">
  
    <div class="dialog-content-carrusel">
        <div class="detalleModalP-carrusel">
            <div class="fotoYdesc-carrusel">
                <div id="carouselExample" class="carousel slide">
                    <div class="carousel-inner fotoCarrusel">
                        <h3 style="color: #054f71;">SECCION DE INTERES</h3>
                        <div *ngFor="let item of imagenesCarrusel; let i = index" class="carousel-item" [ngClass]="{'active': i === 0}">
                            <img [src]="item.src" class="d-block w-100" [alt]="item.alt">
                          </div>
                    </div>
                    <button class="carousel-control-prev boton-carrusel " style="margin-left: 90%;" type="button" data-bs-target="#carouselExample"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button style="margin-right: -140%;" class="carousel-control-next boton-carrusel" type="button" data-bs-target="#carouselExample"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
                <button class="cerrarModal" (click)="cerrarCarrusel()">Cerrar</button>
            </div>
        </div>
    </div>
</div> -->



<!-- <div class="modal fade" id="carouselModal" tabindex="-1" aria-labelledby="carouselModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <button style="width: 5%;height: 2%;" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
         
          <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
              <button *ngFor="let image of imagenesCarrusel; let i = index" 
                      type="button" 
                      data-bs-target="#carouselExampleIndicators" 
                      [attr.data-bs-slide-to]="i" 
                      [class.active]="i === 0" 
                      aria-current="true" 
                      [attr.aria-label]="'Slide ' + (i + 1)">
              </button>
            </div>
            <div class="carousel-inner">
              <div *ngFor="let image of imagenesCarrusel; let i = index" 
                   class="carousel-item" style="width: 100%;" 
                   [class.active]="i === 0">
                <img [src]="image.src" class="d-block w-100"  [alt]="image.alt">
              </div>
            </div>
            <button class="carousel-control-prev boton-carrusel" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
              <span class="carousel-control-prev-icon " aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next boton-carrusel" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div> -->